@import models.timetoteach.planning.TermlyCurriculumSelection
@import models.timetoteach.planning.ScottishCurriculumPlanningAreaWrapper
@(handler: be.objectify.deadbolt.scala.DeadboltHandler, title: String, userPictureUri: Option[String], userFirstName: Option[String], userFamilyName: Option[String], maybeClassId: Option[String], maybeClassContext: Option[models.timetoteach.ui.ClassIdContext], maybeCurrentTermlyCurriculumSelection: Option[(TermlyCurriculumSelection, String)])(appNavMenuListItems: Html)(content: Html)
<!DOCTYPE html>
<html>
    <head>
        <title>@title</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="google-signin-scope" content="profile email">
        <meta name="google-signin-client_id"
        content="473457256422-khclkcv9b7u7ecu6q7nntq9460ko3mo4.apps.googleusercontent.com">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/rangeslider.js/2.3.1/rangeslider.min.js"></script>
        <script type="text/javascript" src="https://apis.google.com/js/platform.js" async defer></script>
        <script type="text/javascript" src="@routes.Assets.versioned("javascripts/utils.js")"></script>
        <script type="text/javascript" src="@routes.Assets.versioned("javascripts/signin.js")"></script>
        <script type="text/javascript" src="@routes.Assets.versioned("javascripts/signout.js")"></script>
        <script type="text/javascript" src="@routes.Assets.versioned("javascripts/bootstrap-timepicker.min.js")"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link type="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rangeslider.js/2.3.1/rangeslider.min.css"/>
        <link type="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rangeslider.js/2.3.1/rangeslider.min.css.map"/>
        <link type="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/css/bootstrap-slider.min.css" )/>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("icons/ttt_owl.png")">
            <!-- Hotjar Tracking Code for www.dev.timetoteach.zone -->
        <script>
                (function (h, o, t, j, a, r) {
                    h.hj = h.hj || function () {
                        (h.hj.q = h.hj.q || []).push(arguments)
                    };
                    h._hjSettings = {hjid: 801472, hjsv: 6};
                    a = o.getElementsByTagName('head')[0];
                    r = o.createElement('script');
                    r.async = 1;
                    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
                    a.appendChild(r);
                })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
        </script>
    </head>
    <body>
        <div class="d-none g-signin2" ></div>

        <nav id="appMainNavbar" class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
            <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#startupNavbar" aria-controls="navbarTogglerDemo03"
            aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div id="app-main-screen-title" class="col-md-3 in-app-menu-medium-and-up">
                <h5 class="display-5 text-primary app-main-screen-title"></h5>
            </div>

            <div class="d-flex col-md-6">
                <div class="collapse navbar-collapse " id="startupNavbar">
                    <ul class="navbar-nav mx-auto">
                        <div class="row align-items-center">

                            @appNavMenuListItems

                            <li class="nav-item nav-login-button-dashboard in-app-menu-medium-and-up">
                                <a class="btn btn-sm btn-outline-dark btn-block" role="button" href="@routes.Application.timeToTeachApp()">
                                    Dashboard</a>
                            </li>
                            <li class="nav-item nav-login-button-dashboard in-app-menu-medium-and-up">
                                <a class="btn btn-sm btn-outline-dark btn-block" role="button" href="@controllers.planning.classtimetable.routes.ClassTimetableController.classesHome()">
                                    Classes Home</a>
                            </li>
                            <li class="nav-item nav-login-button-dashboard in-app-menu-medium-and-up">
                                <a class="btn btn-sm btn-outline-dark btn-block" role="button" href="@controllers.planning.termly.routes.TermlyPlansController.termlyPlans()">
                                    Termly Plans</a>
                            </li>
                        </div>

                    </ul>

                </div>
            </div>
            <div class="d-flex col-md-3">
                <div class="collapse navbar-collapse in-app-menu-medium-and-up" >
                    <ul class="navbar-nav">

                        <div class="row align-items-center">

                            @if(userPictureUri.isDefined) {
                                <li class="nav-item nav-login-button-picture">
                                    <a class="nav-link" href="#"><img class="img-circle-standard" src="@userPictureUri" height="32px"></a>
                                </li>
                            }

                            <li class="nav-item nav-login-button">
                                <a href="https://www.facebook.com/groups/305966139892476/">
                                    <img src="@routes.Assets.versioned("icons/FB-f-Logo__blue_29.png")" alt="logo" height="24"></a>
                            </li>

                            <li class="nav-item nav-login-button">
                            @if(userFirstName.isDefined) {
                                <a class="btn btn-sm btn-outline-primary btn-block" href="#" onclick="signOut();">
                                    Sign Out</a>
                            } else {
                                <a class="btn btn-sm btn-outline-primary btn-block" href="@routes.Application.login()">
                                    Log In</a>
                            }
                            </li>
                        </div>

                    </ul>

                </div>

            </div>
        </nav>

        <div id="appBackground">

        @if(maybeClassId.isDefined) {
            <div class="in-app-menu-medium-and-up">
                <nav id="dashboard-nav-2" class="navbar navbar-primary bg-secondary navbar-expand-lg ">
                    <div class="col-lg-2">
                        <a class="navbar-brand text-light" href="#">@title</a>
                    </div>
                    <ul class="navbar-nav mx-auto">
                    @if(maybeClassContext.isDefined) {
                        <li class="nav-item ">
                        @if(maybeClassContext.get.isInstanceOf[models.timetoteach.ui.CLASS_SETUP.type]) {
                            <a class="btn btn-warning btn-sm class-level-button" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.manageClass(maybeClassId.get)">
                                Class Setup</a>
                        } else {
                            <a class="btn btn-light text-dark btn-sm class-level-button" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.manageClass(maybeClassId.get)">
                                Class Setup</a>
                        }
                        </li>

                        <li class="nav-item ">
                        @if(maybeClassContext.get.isInstanceOf[models.timetoteach.ui.CLASS_TIMETABLE.type]) {
                            <a id="manage-class-goto-timetable" class="btn btn-warning btn-sm class-level-button" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.classTimetable(maybeClassId.get)">
                                Class Timetable</a>
                        } else {
                            <a id="manage-class-goto-timetable" class="btn btn-light text-dark btn-sm class-level-button" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.classTimetable(maybeClassId.get)">
                                Class Timetable</a>
                        }
                        </li>

                        <li class="nav-item">
                            @if(maybeClassContext.get.isInstanceOf[models.timetoteach.ui.CLASS_TERMLY_PLANS.type]) {
                                <a class="btn btn-warning btn-sm class-level-button" role="button"
                                href="@controllers.planning.termly.routes.TermlyPlansController.termlyPlansForClass(maybeClassId.get)">
                                    Class Termly Plans</a>
                            } else if(maybeClassContext.get.isInstanceOf[models.timetoteach.ui.CLASS_TERMLY_PLANS_LOWER.type]) {
                            <a class="btn btn-outline-warning btn-sm class-level-button" role="button"
                            href="@controllers.planning.termly.routes.TermlyPlansController.termlyPlansForClass(maybeClassId.get)">
                                Class Termly Plans</a>
                            } else {
                            <a class="btn btn-light text-dark btn-sm class-level-button" role="button"
                            href="@controllers.planning.termly.routes.TermlyPlansController.termlyPlansForClass(maybeClassId.get)">
                                Class Termly Plans</a>
                            }
                        </li>
                    } else {
                        <li class="nav-item ">
                            <a class="btn btn-light text-dark btn-sm class-level-button" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.manageClass(maybeClassId.get)">
                                Class Setup</a>
                        </li>

                        <li class="nav-item ">
                            <a id="manage-class-goto-timetable btn-sm class-level-button" class="btn btn-light  text-dark" role="button"
                            href="@controllers.planning.classtimetable.routes.ClassTimetableController.classTimetable(maybeClassId.get)">
                                Class Timetable</a>
                        </li>

                        <li class="nav-item">
                            <a class="btn btn-light text-dark btn-sm class-level-button" role="button"
                            href="@controllers.planning.termly.routes.TermlyPlansController.termlyPlansForClass(maybeClassId.get)">
                                Class Termly Plans</a>
                        </li>
                    }
                    </ul>
                    <div class="col-lg-2"></div>
                </nav>


                @if(maybeCurrentTermlyCurriculumSelection.isDefined) {
                    <nav id="dashboard-nav-3" class="navbar navbar-primary bg-dark navbar-expand-lg">
                        <div class="col-md-1">
                            <a class="navbar-brand text-light" href="#">Curriculum Areas</a>
                        </div>
                        <div class="col-md-10 d-flex justify-content-center ">
                            <ul class="navbar-nav mx-auto">
                                @for((planningArea,planningAreaIndex) <- maybeCurrentTermlyCurriculumSelection.get._1.planningAreas.map(area => ScottishCurriculumPlanningAreaWrapper(area)).zipWithIndex){
                                        @if(planningArea.planAtGroupLevel) {
                                            @if(planningArea.value.toString == maybeCurrentTermlyCurriculumSelection.get._2) {
                                                    <li class="nav-item">
                                                        <a role="button" class="btn btn-warning btn-sm btn-block curriculum-area-button"
                                                        href="@controllers.planning.termly.routes.TermlyPlansController.termlyOverviewForCurriculumAreaAtGroupLevelWithNoGroupId(maybeClassId.getOrElse("NONE"), planningArea.value.toString)">
                                                        @planningArea.niceSpecificValueIfPresent().getOrElse(planningArea.niceValue())</a>
                                                    </li>
                                            } else {
                                                    <li class="nav-item">
                                                        <a role="button" class="btn btn-success btn-sm btn-block curriculum-area-button"
                                                        href="@controllers.planning.termly.routes.TermlyPlansController.termlyOverviewForCurriculumAreaAtGroupLevelWithNoGroupId(maybeClassId.getOrElse("NONE"), planningArea.value.toString)">
                                                        @planningArea.niceSpecificValueIfPresent().getOrElse(planningArea.niceValue())</a>
                                                    </li>
                                            }

                                        } else {
                                            @if(planningArea.value.toString == maybeCurrentTermlyCurriculumSelection.get._2) {
                                                <li class="nav-item">
                                                    <a role="button" class="btn btn-warning btn-sm btn-block curriculum-area-button"
                                                    href="@controllers.planning.termly.routes.TermlyPlansController.termlyOverviewForCurriculumAreaAtClassLevel(maybeClassId.getOrElse("NONE"), planningArea.value.toString)">
                                                        @planningArea.niceSpecificValueIfPresent().getOrElse(planningArea.niceValue())</a>
                                                </li>
                                            } else {
                                                <li class="nav-item">
                                                    <a role="button" class="btn btn-success btn-sm btn-block curriculum-area-button"
                                                    href="@controllers.planning.termly.routes.TermlyPlansController.termlyOverviewForCurriculumAreaAtClassLevel(maybeClassId.getOrElse("NONE"), planningArea.value.toString)">
                                                        @planningArea.niceSpecificValueIfPresent().getOrElse(planningArea.niceValue())</a>
                                                </li>
                                            }
                                        }

                                }
                            </ul>
                        </div>
                        <div class="col-md-1"></div>
                    </nav>

                }

            </div>
        }

            <div id="mainAppTopMargin"></div>

            <div class="container">
                <div class="in-app-menu-small-devices alert alert-info alert-dismissible fade show " role="alert" >
                    <div >
                        <p>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <strong>Note:</strong>
                            This app is aimed for larger screens presently to test the flow. The current mobile version
                            is inconsistent and lacks certain functionality, but will be improved going forward.
                        </p>
                    </div>
                </div>

            </div>


            <a id="survey" class="panel-footer btn btn-danger btn-sm" href="https://www.surveymonkey.co.uk/r/VKXG7PP">
                <div class="side-button"><strong>Let Us Know What You Think</strong></div>
            </a>

            @content

        </div>


        <div class="modal" id="doing-stuff" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addNewGroupModalHeader">
                            ... saving ... </h5>
                    </div>
                </div>
            </div>
        </div>

        <footer id="main-footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                                &copy; 2017 Time To Teach Ltd
                        <br>
                        Coded by <a href="http://andyboyle.io">Andy Boyle</a>
                    </div>
                    <div class="col-md-2">
                        <h6>Our product</h6>
                        <ul class="list-unstyled">
                            <li><a href="">Features</a></li>
                            <li><a href="">Solutions</a></li>
                            <li><a href="">Plans</a></li>
                            <li><a href="@routes.Application.login()">Sign in</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2">
                        <h6>Our team</h6>
                        <ul class="list-unstyled">
                            <li><a href="#about">About</a></li>
                            <li><a href="">Highlights</a></li>
                            <li><a href="">Investors</a></li>
                            <li><a href="">Partners</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2">
                        <h6>Other things</h6>
                        <ul class="list-unstyled">
                            <li><a href="">Jobs</a></li>
                            <li><a href="mailto:team@@timetoteach.zone?Subject=Enquiry" target="_top">Contact</a></li>
                            <li><a href="">FAQ</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        @* ========================================================================================================*@
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

    </body>
</html>